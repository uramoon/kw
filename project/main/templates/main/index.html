{% load static %}

<html>
    <head>
        <title>변환기</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta charset="UTF-8">

        <!-- CSS -->
        <link rel="stylesheet" type="text/css" href="{% static 'bootstrap.min.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'owl.carousel.min.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'owl.theme.default.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'custom.css' %}">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.3.1/css/swiper.min.css">
    </head>
    <body>
        <!--
        <nav class="navbar fixed-bottom bg-primary navbar-dark nav-tp navbar-expand py-0 shadow-lg-bottom" id="navbar_top"> 
            <div class="collapse navbar-collapse" id="inside">
                <ul class="navbar-nav mx-auto isl" id="nav">
                    <li class="nav-item mx-2 my-auto active">
                        <a class="nav-link px-2 py-1 text-center" href="">
                            <i class="fab fa-kickstarter pt-1" style="font-size:1.8em;"></i>
                            <p class="nav-link my-0 px-0 pt-1 pb-0" href="">navbar</p>
                        </a>
                    </li>
                    <li class="nav-item mx-2 my-auto">
                        <a class="nav-link px-2 py-1 text-center" href="">
                            <i class="fas fa-comments pt-1" style="font-size:1.8em;"></i>
                            <p class="nav-link my-0 px-0 pt-1 pb-0" href="">테스트</p>
                        </a>
                    </li>
                    <li class="nav-item mx-2 my-auto">
                        <a class="nav-link px-2 py-1 text-center" href="">
                            <i class="fas fa-book pt-1" style="font-size:1.8em;"></i>
                            <p class="nav-link my-0 px-0 pt-1 pb-0" href="">navbar</p>
                        </a>
                    </li>
                    <li class="nav-item mx-2 my-auto">
                        <a class="nav-link px-2 py-1 text-center" href="">
                            <i class="fas fa-user-circle pt-1" style="font-size:1.8em;"></i>
                            <p class="nav-link my-0 px-0 pt-1 pb-0" href="">test</p>
                        </a>
                    </li>
                </ul>
            </div>
            <style>
                .nav-link {
                    font-size: 10pt;
                }
            </style>
        </nav>
        -->

        <section class="container">
            <div class="modal fade" id="Modal" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="modal">변환하기</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
            
                        <div class="modal-body">
                            <div class="form-group">
                                <label>변환/역변환</label>
                                <select name="isReverse" class="form-control" id="op">
                                    <option value="0" selected>변환</option>
                                    <option value="1">역변환</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>내용</label>
                                <textarea name="content" class="form-control" id="txt" style="height: 180px;"></textarea>
                            </div>
                            
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button>
                                <button onclick="convert()" type="button" class="btn btn-primary">확인</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card bg-light bg-light mt-3">
                <div class="card-header bg-light">
                    <div class="row">
                        <div class="col-8 text-left">변환기</div>
                    </div>
                </div>
                <div class="card-body">
                    <p class="card-text mb-4">
                        <button class="btn btn-primary mx-1 mt-2" data-toggle="modal" href="#Modal">변환하기</button>
                    </p>
                    <div class="form-group">
                        <h5 class="card-title">
                            변환결과
                        </h5>
                        <textarea name="content" class="form-control" id="result" style="height: 180px;"></textarea>
                        <button class="btn btn-primary mx-1 mt-2" data-toggle="modal" onclick="clip()">클립보드에 복사</button>
                    </div>
                </div>
            </div>
        </section>

        <!--
        <footer class="bg-dark mt-5 p-4 text-center" style="color:#ffffff;">
            규규<br>
        </footer>
        -->
        
        <script type="text/javascript" src="{% static 'jquery.min.js' %}"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.3.1/js/swiper.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
        <script type="text/javascript" src="{% static 'owl.carousel.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'custom.js' %}"></script>

        <script>
            function convert() {
                var txt = document.querySelector("#txt").value;
                var newtxt = '';

                if (document.querySelector('#op').value == 1) {
                    var arr = txt.split(':');  
                    for (var i in arr) {
                        newtxt += String.fromCharCode(Number(arr[i]));
                    }
                }
                else {
                    for (var i = 0, l = txt.length; i < l; i++) {
                        newtxt += txt.charCodeAt(i) + ':';
                    }
                }
                document.querySelector("#result").value = newtxt;
                $('#Modal').modal('hide');
            }
            function clip() {
                var tempElem = document.querySelector("#result");
                tempElem.select();
                tempElem.setSelectionRange(0, tempElem.value.length);
                document.execCommand("copy");
                alert('복사 완료. 원하는 곳에 붙여넣으셈.')
            }
        </script>
    </body>
</html>